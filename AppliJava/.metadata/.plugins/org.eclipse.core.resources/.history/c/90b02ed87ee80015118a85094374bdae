import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.IOException;
import java.security.KeyManagementException;
import java.security.NoSuchAlgorithmException;
import java.util.ArrayList;

import org.json.JSONException;
import org.json.simple.parser.ParseException;

public class ButtonRefresh {

	private Api api;
	private Json jsonRefresh;
	private MainWindow window;
	
	public ButtonRefresh(MainWindow window) 
			throws KeyManagementException, NoSuchAlgorithmException, 
			IOException, ParseException, JSONException{
		
		this.api = new Api();
		this.jsonRefresh = new Json(api, "Timeline");
		this.window = window;
		actionPerformed();
	}
	
	
	public void actionPerformed() throws IOException, ParseException, JSONException {
		ArrayList<Tweet> twitterUpdate = jsonRefresh.ParseJsonTimeLine();
		window.getTabTwitter().setModel(new TweetModel(twitterUpdate));
        window.getTabTwitter().getColumnModel().getColumn(0).setHeaderValue("Timeline");
	}

}
